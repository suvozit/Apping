(function(){
    var specialties = {
        "top-public-affairs-schools": [["top-public-affairs-schools", "Public Affairs"], ["top-public-finance-schools", "- Public Finance & Budgeting"], ["top-social-policy-schools", "- Social Policy"], ["top-information-technology-management-schools", "- Information & Technology Management"], ["top-city-management-schools", "- City Management & Urban Policy"], ["top-health-management-schools", "- Health Policy & Management"], ["top-public-policy-analysis-schools", "- Public Management Administration"], ["top-environmental-management-schools", "- Environmental Policy & Management"], ["top-polic-policy-analysis-schools", "- Public-Policy Analysis"], ["top-nonprofit-management-schools", "- Nonprofit Management"]],
        "top-fine-arts-schools": [["top-fine-arts-schools", "Fine Arts"], ["top-glass-schools", "- Glass"], ["top-printmaking-schools", "- Printmaking"], ["top-painting-drawing-schools", "- Painting / Drawing"], ["top-metals-jewelry-schools", "- Metals / Jewelry"], ["top-interior-design-schools", "- Interior Design"], ["top-graphic-design-schools", "- Graphic Design"], ["top-industrial-design-schools", "- Industrial Design"], ["top-ceramics-schools", "- Ceramics"], ["top-sculpture-schools", "- Sculpture"], ["top-photography-schools", "- Photography"], ["top-fiber-arts-schools", "- Fiber Arts"], ["top-multimedia-visual-communications-schools", "- Multimedia / Visual Communications"]],
        "top-health-schools": [["top-occupational-therapy-schools", "Occupational Therapy"], ["top-public-health-schools", "Public Health"], ["top-clinical-psychology-schools", "Clinical Psychology"], ["top-midwife-schools", "Nursing-Midwifery"], ["top-nursing-schools", "Nursing"], ["top-community-public-health-schools", "- Clinical Nurse Specialist: Community / Public Health"], ["top-pediatric-nursing-schools", "- Nurse Practitioner: Pediatric"], ["top-adult-nursing-schools", "- Nurse Practitioner: Adult"], ["top-nursing-service-administration-schools", "- Nursing Service Administration"], ["top-mental-health-nursing-schools", "- Clinical Nurse Specialist: Psychiatric / Mental Health"], ["top-surgical-nursing-schools", "- Clinical Nurse Specialist: Adult / Medical-Surgical"], ["top-geriatric-nursing-schools", "- Nurse Practitioner: Gerontological / Geriatric"], ["top-family-nursing-schools", "- Nurse Practitioner: Family"], ["top-physical-therapy-schools", "Physical Therapy"], ["top-pathology-schools", "Speech-Language Pathology"], ["top-healthcare-management-schools", "Healthcare Management"], ["top-audiology-schools", "Audiology"], ["top-social-work-schools", "Social Work"], ["top-pharmacy-schools", "Pharmacy"], ["top-physician-assistant-schools", "Physician Assistant"], ["top-rehabilitation-counseling-schools", "Rehabilitation Counseling"], ["top-nurse-anesthesia-schools", "Nursing-Anesthesia"], ["top-vetrinarian-schools", "Veterinary Medicine "]],
        "top-science-schools": [["top-mathematics-programs", "Math"], ["top-geometry-programs", "- Geometry"], ["top-mathematical-analysis-schools", "- Analysis"], ["top-logic-programs", "- Logic"], ["top-discrete-mathematics-programs", "- Discrete Mathematics and Combinatorics"], ["top-topology-programs", "- Topology"], ["top-applied-mathematics-programs", "- Applied Math"], ["top-number-theory-schools", "- Algebra / Number Theory / Algebraic Geometry"], ["top-earth-sciences-schools", "Earth Sciences"], ["top-geology-schools", "- Geology"], ["top-paleontology-schools", "- Paleontology"], ["top-geophysics-seismology-schools", "- Geochemistry"], ["top-geophysics-schools", "- Geophysics and Seismology"], ["top-statistics-schools", "Statistics"], ["top-computer-science-schools", "Computer Science"], ["top-artificial-intelligence-schools", "- Artificial Intelligence"], ["top-computer-programming-schools", "- Programming Language"], ["top-computer-systems-schools", "- Systems"], ["top-computer-theory-schools", "- Theory"], ["top-chemistry-schools", "Chemistry"], ["top-biochemistry-schools", "- Biochemistry"], ["top-physical-science-schools", "- Physical"], ["top-inorganic-science-schools", "- Inorganic"], ["top-organic-science-schools", "- Organic"], ["top-analytical-science-schools", "- Analytical"], ["top-theoretical-science-schools", "- Theoretical"], ["top-physics-schools", "Physics"], ["top-condensed-matter-programs", "- Condensed Matter"], ["top-atomic-science-programs", "- Atomic / Molecular / Optical"], ["top-quantum-physics-programs", "- Quantum"], ["top-astrophysics-programs", "- Cosmology / Relativity / Gravity"], ["top-plasma-science-programs", "- Plasma"], ["top-string-theory-programs", "- Elementary Particles / Field / String Theory"], ["top-nuclear-science-programs", "- Nuclear"], ["top-biological-sciences-programs", "Biological Sciences"], ["top-molecular-biology-schools", "- Molecular Biology"], ["top-ecology-schools", "- Ecology / Evolutionary Biology"], ["top-biophysics-schools", "- Biochemistry / Biophysics / Structural Biology "], ["top-neurosciences-schools", "- Neuroscience / Neurobiology"], ["top-genetics-schools", "- Genetics / Genomics / Bioinformatics"], ["top-cell-biology-schools", "- Cell Biology"], ["top-infectious-disease-schools", "- Immunology / Infectious Disease"], ["top-microbiology-schools", "- Microbiology"]],
        "top-business-schools": [["top-business-schools", "Best Business Schools"], ["top-management-schools", "- Management"], ["top-logistics-schools", "- Supply Chain / Logistics"], ["top-entrepreneurship-schools", "- Entrepreneurship"], ["top-information-systems-schools", "- Information Systems"], ["top-marketing-schools", "- Marketing"], ["top-accounting-schools", "- Accounting"], ["top-nonprofit-schools", "- Nonprofit"], ["top-international-business-schools", "- International"], ["top-part-time-schools", "- Part-time M.B.A."], ["top-executive-schools", "- Executive M.B.A."], ["top-production-operations-schools", "- Production / Operations"], ["top-finance-schools", "- Finance"]],
        "top-education-schools": [["top-education-schools", "Best Education Schools"], ["top-curriculum-instruction-schools", "- Curriculum and instruction"], ["top-student-counseling-schools", "- Student counseling & personnel services"], ["top-higher-education-administration-schools", "- Higher education administration"], ["top-secondary-teacher-education-schools", "- Secondary teacher education"], ["top-education-policy-schools", "- Education policy"], ["top-teacher-education-schools", "- Elementary teacher education"], ["top-vocational-education-schools", "- Technical / Vocational"], ["top-education-psychology-schools", "- Educational psychology"], ["top-special-needs-education-schools", "- Special education"], ["top-education-administration-schools", "- Education administration & supervision"]],
        "top-law-schools": [["top-law-schools", "Best Law Schools"], ["top-clinical-training-schools", "- Clinical Training"], ["top-tax-law-schools", "- Tax Law"], ["top-trial-advocacy-schools", "- Trial Advocacy"], ["top-clinical-healthcare-law-schools", "- Healthcare Law"], ["top-environmental-law-schools", "- Environmental Law"], ["top-international-law-schools", "- International Law"], ["top-part-time-law-schools", "- Part-time Law"], ["top-legal-writing-schools", "- Legal Writing"], ["top-dispute-resolution-schools", "- Dispute Resolution"], ["top-Intellectual-property-law-schools", "- Intellectual Property Law"]],
        "top-medical-schools": [["top-medical-schools", "Best Medical Schools"], ["top-drug-alcohol-abuse-schools", "- Drug and alcohol abuse"], ["top-internal-medicine-schools", "- Internal medicine"], ["top-rural-medicine-schools", "- Rural medicine"], ["top-pediatrics-schools", "- Pediatrics"], ["top-womens-health-schools", "- Women's Health"], ["top-familiy-medicine-schools", "- Family medicine"], ["top-geriatrics-schools", "- Geriatrics"], ["top-aids-schools", "- AIDS"]],
        "top-library-information-science-programs": [["top-library-information-science-programs", "Library and Information Studies"], ["top-health-librarianship-programs", "- Health Librarianship"], ["top-information-science-programs", "- Information Systems"], ["top-digital-librarianship-programs", "- Digital Librarianship"], ["top-children-youth-service-programs", "- Services for Children and Youth"], ["top-law-librarianship-programs", "- Law Librarianship"], ["top-library-preservation-programs", "- Archives and Preservation"], ["top-library-media-programs", "- School Library Media"]],
        "top-engineering-schools": [["top-engineering-schools", "Best Engineering Schools"], ["top-environmental-engineering-schools", "- Environmental / Environmental Health"], ["top-biomedical-schools", "- Biomedical / Bioengineering"], ["top-chemical-engineering-schools", "- Chemical"], ["top-nuclear-engineering-schools", "- Nuclear"], ["top-civil-engineering-schools", "- Civil"], ["top-industrial-engineering-schools", "- Industrial / Manufacturing"], ["top-aerospace-schools", "- Aerospace / Aeronautical / Astronautical"], ["top-mechanical-engineering-schools", "- Mechanical"], ["top-material-engineering-schools", "- Materials"], ["top-electrical-engineering-schools", "- Electrical / Electronic / Communications"], ["top-biological-agricultural-schools", "- Biological / Agricultural"]],
        "top-humanities-schools": [["top-english-schools", "English"], ["top-british-literature-schools", "- 18th through 20th Century British Literature"], ["top-medieval-renaissance-literature-schools", "- Medieval / Renaissance Literature"], ["top-postbellum-american-literature-schools", "- American Literature After 1865"], ["top-literary-criticism-schools", "- Literary Criticism and Theory"], ["top-gender-literature-schools", "- Gender and Literature"], ["top-antebellum-american-literature-schools", "- American Literature Before 1865"], ["top-african-american-literature-schools", "- African-American Literature"], ["top-psychology-schools", "Psychology"], ["top-cognitive-psychology-schools", "- Cognitive Psychology"], ["top-social-psychology-schools", "- Social Psychology"], ["top-experimental-psychology-schools", "- Experimental Psychology"], ["top-behavioral-neuroscience-schools", "- Behavioral Neuroscience"], ["top-industrial-organizational-psychology-schools", "- Industrial and Organizational Psychology"], ["top-developmental-psychology-schools", "- Developmental Psychology"], ["top-criminology-schools", "Criminology"], ["top-economics-schools", "Economics"], ["top-econometrics-schools", "- Econometrics"], ["top-labor-economics-schools", "- Labor Economics"], ["top-public-finance-schools", "- Public Finance"], ["top-international-economics-schools", "- International Economics"], ["top-macroeconomics-schools", "- Macroeconomics"], ["top-industrial-organization-schools", "- Industrial Organization"], ["top-development-economics-schools", "- Development Economics"], ["top-microeconomics-schools", "- Microeconomics"], ["top-history-schools", "History"], ["top-modern-us-history-schools", "- Modern U.S. History"], ["top-european-history-schools", "- European History"], ["top-african-american-history-schools", "- African-American History"], ["top-cultural-history-schools", "- Cultural History"], ["top-latin-american-history-schools", "- Latin American History"], ["top-african-history-schools", "- African History"], ["top-womens-history-schools", "- Women's History"], ["top-us-colonial-history-schools", "- U.S. Colonial History"], ["top-asian-history-schools", "- Asian History"], ["top-political-science-schools", "Political Science"], ["top-american-politics-schools", "- American Politics"], ["top-political-theory-schools", "- Political Theory"], ["top-political-methodology-schools", "- Political Methodology"], ["top-comparative-politics-schools", "- Comparative Politics"], ["top-international-politics-schools", "- International Politics"], ["top-sociology-schools", "Sociology"], ["top-economic-sociology-schools", "- Economic Sociology"], ["top-social-psychology-schools", "- Social Psychology"], ["top-historic-sociology-schools", "- Historical Sociology"], ["top-sociology-of-culture-schools", "- Sociology of Culture"], ["top-sex-gender-sociology-schools", "- Sex and Gender"], ["top-social-stratification-schools", "- Social Stratification"], ["top-sociology-of-population-schools", "- Sociology of Population"]]
    };
    jQuery('.grad-search-widget form select[name="program"]').change(function(){
        var form = jQuery('.grad-search-widget form');
        if (this.value == "none") {
            form.find('input, select').
                filter('*[name!="program"]').
                attr('disabled', 'disabled').
                prev('label').
                andSelf().
                addClass('disabled').
                filter('select').
                parent('.cmf-skinned-select').
                css('color', '#DDD').
                prev('label').
                addClass('disabled');
            form.children('input[type="image"]').css('opacity', 0.5);
        } else {
            form.find('input, select').
                filter('*[name!="program"]').
                attr('disabled', '').
                filter('select').
                parent('.cmf-skinned-select').
                css('color', '#000');
            form.find('.disabled').removeClass('disabled');
            form.children('input[type="image"]').css('opacity', 1);
            var spec = form.find('select[name="specialty"]');
            spec.children().remove();
            jQuery.each(specialties[this.value], function(ind, val){
                spec.append(jQuery('<option/>').attr('value', val[0]).html(val[1]));
            });
            spec.trigger('change');
        }
    }).trigger('change');
    jQuery('.grad-search-widget form .go_button').click(function(){
        if (jQuery('.grad-search-widget form select[name="program"]')[0].value == "none") return false;
    });
    jQuery('.grad-search-widget form').submit(function(){
        var _self = $(this);
        var url = this.action;
        var name = _self.find('input[name="name"]').val();
        if (name != "Search for a school by name") url += '/name+'+name;
        var program = _self.find('select[name="program"]').val();
        if (program != "Select one") url += '/program+'+program;
        var specialty = _self.find('select[name="specialty"]').val();
        if (specialty != "Select one") url += '/'+specialty+'+y';
        document.location.href = url;
        return false;
    });
    if (jQuery.fn.clearField) jQuery('.grad-search-widget form input[name="name"]').clearField();
    if (jQuery.fn.select_skin) jQuery('.grad-search-widget form select.select_skin').select_skin();
})();